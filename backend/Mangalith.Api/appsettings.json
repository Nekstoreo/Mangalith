{
  "Serilog": {
    "Using": [
      "Serilog.Sinks.Console"
    ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext"
    ]
  },
  "Cors": {
    "AllowedOrigins": []
  },
  "Jwt": {
    "Issuer": "Mangalith",
    "Audience": "MangalithAudience",
    "SecretKey": "change-this-secret-to-a-secure-value-at-least-64-characters-long-for-production-use-123456",
    "AccessTokenMinutes": 60
  },
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://0.0.0.0:5000"
      },
      "Https": {
        "Url": "https://0.0.0.0:5001"
      }
    },
    "Limits": {
      "MinRequestBodyDataRate": null,
      "MaxRequestBodySize": 104857600
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Port=5432;Database=mangalith;Username=mangalith;Password=mangalith123;"
  },
  "FileUpload": {
    "MaxFileSizeBytes": 104857600,
    "AllowedExtensions": [".cbz", ".cbr", ".zip"],
    "AllowedMimeTypes": ["application/zip", "application/x-cbz", "application/x-cbr", "application/x-rar-compressed"],
    "UploadPath": "uploads",
    "TempPath": "temp"
  },
  "RateLimiting": {
    "Enabled": true,
    "ApplyToAnonymousUsers": true,
    "ExcludedPaths": ["/health", "/metrics", "/swagger"],
    "AnonymousUserLimit": 30
  },
  "PermissionSystem": {
    "Cache": {
      "Enabled": true,
      "RolePermissionExpirationMinutes": 15,
      "UserPermissionExpirationMinutes": 5,
      "MaxCacheSize": 10000,
      "EnableStatistics": true
    },
    "Audit": {
      "Enabled": true,
      "LogSuccessfulOperations": true,
      "LogFailedOperations": true,
      "RetentionDays": 90,
      "EnableAutoCleanup": true,
      "CleanupIntervalHours": 24,
      "MaxEntriesPerCleanup": 100000,
      "ExcludedActions": [],
      "ExcludedResources": []
    },
    "Quotas": {
      "Enabled": true,
      "StorageQuotasByRole": {
        "Reader": 0,
        "Uploader": 1073741824,
        "Moderator": 5368709120,
        "Administrator": -1
      },
      "DailyUploadLimitsByRole": {
        "Reader": 0,
        "Uploader": 10,
        "Moderator": 50,
        "Administrator": -1
      },
      "MangaCreationLimitsByRole": {
        "Reader": 0,
        "Uploader": 5,
        "Moderator": 25,
        "Administrator": -1
      },
      "EnableWarnings": true,
      "WarningThresholdPercent": 80,
      "EnableTemporaryOverrides": true,
      "MaxOverrideDurationHours": 168
    },
    "RateLimit": {
      "Enabled": true,
      "LimitsByRole": {
        "Reader": 60,
        "Uploader": 120,
        "Moderator": 300,
        "Administrator": 600
      },
      "WindowMinutes": 1,
      "EnableBurst": true,
      "BurstMultiplier": 1.5,
      "ExcludedEndpoints": ["/health", "/metrics", "/swagger"]
    },
    "Security": {
      "EnableStrictValidation": true,
      "EnableSessionManagement": true,
      "MaxConcurrentSessions": 5,
      "EnableIpValidation": false,
      "EnableUserAgentValidation": false,
      "TokenRefreshThresholdMinutes": 15,
      "EnableAutoTokenRefresh": true,
      "FailedLoginThreshold": 5,
      "LockoutDurationMinutes": 30,
      "EnableAccountLockout": true
    }
  }
}
